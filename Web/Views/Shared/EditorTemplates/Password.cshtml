@{
    if (ViewData.ModelMetadata.ShowForEdit)
    {
        Layout = "~/Views/Shared/_TemplateLayout.cshtml";
    }

    var htmlAttributes = new RouteValueDictionary(ViewBag.HtmlAttributes as object);
    htmlAttributes["maxlength"] = ViewData.ModelMetadata.MaxLength();
}
@section FormField
{
    @if (ViewData.ModelMetadata.IsReadOnly)
    {
        // We never show the password in plain text
        @Html.Hidden(TemplateHelperName.Default, (object)Model)
    }
    else
    {
        @Html.Password(
            TemplateHelperName.Default, 
            (object)Model,
            htmlAttributes)
    }
}