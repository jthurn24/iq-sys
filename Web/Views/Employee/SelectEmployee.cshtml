
<div style="display:none;" id="ctrl_employee_selector">

    <table style="width:530px;">
    <tr>
        <td valign="top" style="vertical-align:top;width:310px;">
            <div style="font-weight:bold;padding-bottom:10px;">Existing Employee</div>
            <table class="iqitable" style="width:300px;">
            <tr>
                <th style="width:80px;">&nbsp;</th>
                <th style="width:85px;">First Name</th>
                <th style="width:85px;">Last Name</th>
            </tr>
            <tr>
                <td style="width:100px;"><input type="button" style="font-size:9px;" value="Search" onclick="Ctrl_Do_Search_Employee_Selector()" /></th>
                <td style="width:90px;"><input type="text" id="ctrl_employee_selector_first_name" style="width:80px;font-size:9px;" /></td>
                <td style="width:90px;"><input type="text" id="ctrl_employee_selector_last_name" style="width:80px;font-size:9px;" /></td>
            </tr>
            </table>
            <div style="height:200px;overflow:auto">
                <div id="ctrl_employee_selector_results" style="padding:3px;">                     
                </div>
            </div>
        </td>
        <td valign="top" style="vertical-align:top;">
            <div style="padding-left:5px;">
                <div style="border:1px solid gray;height:300px;background:#e3e2e2;padding-left:10px;">
                        <div style="font-weight:bold;padding-bottom:10px;padding-top:5px;">Add Employee</div>
                        
                        <div style="width:60px;float:left;">First</div>
                        <div><input type="text" id="ctrl_employee_selector_add_first_name" style="width:80px;font-size:9px;" /></div>
                        <div style="clear:both;padding-bottom:10px;"></div>

                        <div style="width:60px;float:left;">Middle</div>
                        <div><input type="text" id="ctrl_employee_selector_add_middle_name" style="width:80px;font-size:9px;" /></div>
                        <div style="clear:both;padding-bottom:10px;"></div>

                        <div style="width:60px;float:left;">Last</div>
                        <div><input type="text" id="ctrl_employee_selector_add_last_name" style="width:80px;font-size:9px;" /></div>
                        <div style="clear:both;padding-bottom:10px;"></div>

                        <div><input type="button" value="Add Employee" onclick="Ctrl_Do_Add_Search_Employee_Selector()" /></div>
                </div>
            </div>
        </td>
    </tr>
    </table>

</div>



<script type="text/javascript">

    function Ctrl_Show_Employee_Selector() {

        $("#ctrl_employee_selector").dialog({
            resizable: false,
            height: 350,
            width: 550,
            modal: true,
            title: 'Select Employee'
        });

    }

    function Ctrl_Do_Search_Employee_Selector() {

        var firstName = $('#ctrl_employee_selector_first_name').val();
        var lastName = $('#ctrl_employee_selector_last_name').val();
        var searchAction = '@Url.Action("SelectEmployeeSearch")?firstName=' + firstName + '&lastName=' + lastName ;
        $('#ctrl_employee_selector_results').load(searchAction);

    }

    function Ctrl_Employee_Selector_Select(id, name) {
        $("#ctrl_employee_selector").dialog("close");
        SelectEmployee(id, name);
    }

    function Ctrl_Do_Add_Search_Employee_Selector() {

        var firstName = $('#ctrl_employee_selector_add_first_name').val();
        var middleName = $('#ctrl_employee_selector_add_middle_name').val();
        var lastName = $('#ctrl_employee_selector_add_last_name').val();

        var searchAction = '@Url.Action("SelectEmployeeSearchAdd")?firstName=' + firstName + '&lastName=' + lastName + '&middleName=' + middleName;

        $.getJSON(searchAction, function (data) {

            var id = data["id"];
            var name = data["fullName"];
            $("#ctrl_employee_selector").dialog("close");
            SelectEmployee(id, name);
        });
    }

</script>

